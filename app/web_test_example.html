<!DOCTYPE HTML>
<html lang="en">
  <head>
    <title>End2end Test Runner</title>
    <script src="http://code.angularjs.org/1.1.5/angular.js"></script>
    <script src="../node_modules/karma-ng-scenario/lib/angular-scenario.js" ng-autotest></script>
   <!--  // <script src="../bower_components/angular-mocks-unstable/angular-mocks.js"></script>
    // <script src="lib/ng-scenario-dsl.js"></script>
    // <script src="lib/window-dialog-commands.js"></script>
    // <script src="e2e/routesSpec.js"></script>
    // <script src="e2e/controllers/controllersSpec.js"></script>  -->
    <script type="text/javascript">
    function IframeCtrl($scope){
      $scope.value ="/jsonapi/lastsolution.html";

      window.updatedata = function(data){
        $scope.$apply(function(){
          $scope.value = data;
          console.log($scope.value);
        });
      };
    }

    </script>
  </head>
  <body ng-app ng-controller="IframeCtrl">

  <script type="text/javascript">
      
      beforeEach(function () {
        browser().navigateTo(angular.element(document.querySelector('[ng-controller="IframeCtrl"]')).scope().value);
      });
      
      describe("Problem 1", function () {
        it('should pass this test', function () {
           expect(element('div').text()).toMatch("Hi Chris"); 
        });
      });
    </script>

    {{value}}
  </body>
</html>
